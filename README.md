# AGV Path Planning Demo Project

### é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªä¸“ä¸ºé¢è¯•å‡†å¤‡çš„AGVï¼ˆè‡ªåŠ¨å¯¼å¼•è½¦ï¼‰è·¯å¾„è§„åˆ’æ¼”ç¤ºé¡¹ç›®ã€‚é¡¹ç›®å±•ç¤ºäº†åŸºäºA*ç®—æ³•çš„æ™ºèƒ½è·¯å¾„è§„åˆ’ç³»ç»Ÿï¼ŒåŒ…å«é™æ€å’ŒåŠ¨æ€éšœç¢ç‰©å¤„ç†ã€è·¯å¾„ä¼˜åŒ–ã€å®æ—¶é‡è§„åˆ’ç­‰é«˜çº§åŠŸèƒ½ã€‚

### ğŸš€ æ ¸å¿ƒåŠŸèƒ½


#### é«˜çº§ç‰ˆæœ¬ (`advanced_agv_demo.py`)
- ğŸ”¥ **åŠ¨æ€éšœç¢ç‰©å¤„ç†**ï¼šå®æ—¶æ£€æµ‹å’Œé¿è®©ç§»åŠ¨éšœç¢ç‰©
- ğŸ”¥ **è·¯å¾„å¹³æ»‘ç®—æ³•**ï¼šBæ ·æ¡å’Œæ¢¯åº¦ä¸‹é™è·¯å¾„ä¼˜åŒ–
- ğŸ”¥ **å®æ—¶é‡è§„åˆ’**ï¼šåŠ¨æ€ç¯å¢ƒä¸‹çš„è·¯å¾„é‡æ–°è®¡ç®—
- ğŸ”¥ **ä¼ æ„Ÿå™¨å»ºæ¨¡**ï¼šLiDARä¼ æ„Ÿå™¨èŒƒå›´æ¨¡æ‹Ÿ
- ğŸ”¥ **å¤šAGVåè°ƒ**ï¼šåŸºç¡€çš„å¤šè½¦è¾†åè°ƒæœºåˆ¶
- ğŸ”¥ **æ€§èƒ½ä¼˜åŒ–**ï¼šå¯å‘å¼å‡½æ•°ä¼˜åŒ–å’Œæœç´¢æ•ˆç‡æå‡

### ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **Python 3.8+**
- **NumPy**: æ•°å€¼è®¡ç®—å’ŒçŸ©é˜µæ“ä½œ
- **Matplotlib**: å¯è§†åŒ–å’ŒåŠ¨ç”»
- **SciPy**: è·¯å¾„å¹³æ»‘å’Œæ’å€¼ç®—æ³•
- **Heapq**: A*ç®—æ³•çš„ä¼˜å…ˆé˜Ÿåˆ—å®ç°
- **Dataclasses**: ç°ä»£Pythonæ•°æ®ç»“æ„

### ğŸ“¦ å®‰è£…å’Œè¿è¡Œ

#### 1. ç¯å¢ƒå‡†å¤‡
```bash
# ç¡®ä¿å·²å®‰è£…Python 3.8+
python --version

# å®‰è£…ä¾èµ–åŒ…
pip install numpy matplotlib scipy
```

#### 2. è¿è¡ŒåŸºç¡€æ¼”ç¤º
```bash
python agv_path_planning_demo.py
```

#### 3. è¿è¡Œé«˜çº§æ¼”ç¤º
```bash
python advanced_agv_demo.py
```

### ğŸ¯ æ¼”ç¤ºåœºæ™¯

#### åœºæ™¯1ï¼šç®€å•å¯¼èˆª
- **èµ·ç‚¹**: (1.0, 1.0) - ä»“åº“å…¥å£
- **ç»ˆç‚¹**: (18.0, 13.0) - ä»“åº“è¿œç«¯
- **ç‰¹ç‚¹**: å±•ç¤ºåŸºæœ¬çš„A*è·¯å¾„è§„åˆ’èƒ½åŠ›

#### åœºæ™¯2ï¼šç‹­çª„é€šé“
- **èµ·ç‚¹**: (1.0, 7.0) - è´§æ¶é—´é€šé“
- **ç»ˆç‚¹**: (18.0, 7.0) - å¯¹é¢é€šé“
- **ç‰¹ç‚¹**: æµ‹è¯•åœ¨å—é™ç©ºé—´ä¸­çš„å¯¼èˆªèƒ½åŠ›

#### åœºæ™¯3ï¼šå¤æ‚ç¯å¢ƒ
- **èµ·ç‚¹**: (2.0, 13.0) - å¤æ‚èµ·å§‹ä½ç½®
- **ç»ˆç‚¹**: (16.0, 2.0) - å¤æ‚ç›®æ ‡ä½ç½®
- **ç‰¹ç‚¹**: å¤šéšœç¢ç‰©ç¯å¢ƒä¸‹çš„è·¯å¾„ä¼˜åŒ–

### ğŸ”§ æ ¸å¿ƒç®—æ³•è¯¦è§£

#### A*ç®—æ³•å®ç°
```python
def plan_path(self, start: Point, goal: Point) -> List[Point]:
    """
    A*ç®—æ³•æ ¸å¿ƒå®ç°
    - ä½¿ç”¨æ¬§å‡ é‡Œå¾—è·ç¦»ä½œä¸ºå¯å‘å¼å‡½æ•°
    - æ”¯æŒ8æ–¹å‘ç§»åŠ¨
    - è€ƒè™‘AGVç‰©ç†çº¦æŸ
    """
    # ä¼˜å…ˆé˜Ÿåˆ—ç®¡ç†å¾…æ¢ç´¢èŠ‚ç‚¹
    open_set = []
    heapq.heappush(open_set, (0, id(start), start))
    
    # è·¯å¾„é‡æ„å’Œæˆæœ¬è®¡ç®—
    came_from = {}
    g_score = {start: 0}
    f_score = {start: self.heuristic(start, goal)}
```

#### åŠ¨æ€éšœç¢ç‰©å¤„ç†
```python
def update_dynamic_obstacles(self, dt: float):
    """
    åŠ¨æ€éšœç¢ç‰©ä½ç½®æ›´æ–°
    - ç‰©ç†è¿åŠ¨æ¨¡æ‹Ÿ
    - è¾¹ç•Œç¢°æ’å¤„ç†
    - å®æ—¶åœ°å›¾æ›´æ–°
    """
    for obs in self.dynamic_obstacles:
        obs.update(dt)
        # è¾¹ç•Œåå¼¹é€»è¾‘
        if obs.x <= obs.radius or obs.x >= self.width - obs.radius:
            obs.vx *= -1
```

#### è·¯å¾„å¹³æ»‘ä¼˜åŒ–
```python
def smooth_path_gradient_descent(self, path, environment, agv_config):
    """
    åŸºäºæ¢¯åº¦ä¸‹é™çš„è·¯å¾„å¹³æ»‘
    - æœ€å°åŒ–è·¯å¾„æ›²ç‡
    - ä¿æŒç¢°æ’çº¦æŸ
    - è¿­ä»£ä¼˜åŒ–è¿‡ç¨‹
    """
    for i in range(1, len(smoothed) - 1):
        gradient = 2 * curr_point - prev_point - next_point
        new_point = curr_point - alpha * gradient
```

### ğŸ“Š æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | åŸºç¡€ç‰ˆæœ¬ | é«˜çº§ç‰ˆæœ¬ |
|------|----------|----------|
| è·¯å¾„è§„åˆ’æ—¶é—´ | < 0.1s | < 0.2s |
| æœç´¢èŠ‚ç‚¹æ•° | 500-2000 | 800-3000 |
| è·¯å¾„å¹³æ»‘åº¦ | åŸºç¡€ | ä¼˜åŒ– |
| åŠ¨æ€å“åº” | æ—  | 1Hzé‡è§„åˆ’ |
| å†…å­˜ä½¿ç”¨ | ä½ | ä¸­ç­‰ |

### ğŸ¨ å¯è§†åŒ–ç‰¹æ€§

- **å®æ—¶ç¯å¢ƒæ¸²æŸ“**ï¼šé™æ€å’ŒåŠ¨æ€éšœç¢ç‰©çš„æ¸…æ™°æ˜¾ç¤º
- **è·¯å¾„å¯è§†åŒ–**ï¼šè§„åˆ’è·¯å¾„çš„é«˜äº®æ˜¾ç¤º
- **æœç´¢è¿‡ç¨‹å±•ç¤º**ï¼šA*ç®—æ³•æœç´¢èŠ‚ç‚¹çš„å¯è§†åŒ–
- **AGVçŠ¶æ€æ˜¾ç¤º**ï¼šè½¦è¾†ä½ç½®ã€æ–¹å‘å’Œä¼ æ„Ÿå™¨èŒƒå›´
- **æ€§èƒ½æŒ‡æ ‡é¢æ¿**ï¼šå®æ—¶æ˜¾ç¤ºå…³é”®æ€§èƒ½æ•°æ®

### ğŸ” æŠ€æœ¯äº®ç‚¹

#### 1. ç®—æ³•ä¼˜åŒ–
- **å¯å‘å¼å‡½æ•°å¢å¼º**ï¼šè€ƒè™‘åŠ¨æ€éšœç¢ç‰©çš„è·ç¦»æƒ©ç½š
- **æœç´¢ç©ºé—´ä¼˜åŒ–**ï¼š8æ–¹å‘ç§»åŠ¨ä¸å¯¹è§’çº¿æˆæœ¬è°ƒæ•´
- **å†…å­˜ç®¡ç†**ï¼šé«˜æ•ˆçš„æ•°æ®ç»“æ„ä½¿ç”¨

#### 2. å·¥ç¨‹å®è·µ
- **æ¨¡å—åŒ–è®¾è®¡**ï¼šæ¸…æ™°çš„ç±»ç»“æ„å’ŒèŒè´£åˆ†ç¦»
- **é…ç½®ç®¡ç†**ï¼šçµæ´»çš„AGVå‚æ•°é…ç½®
- **é”™è¯¯å¤„ç†**ï¼šå®Œå–„çš„å¼‚å¸¸å¤„ç†æœºåˆ¶

#### 3. å®é™…åº”ç”¨è€ƒè™‘
- **ç‰©ç†çº¦æŸå»ºæ¨¡**ï¼šçœŸå®çš„AGVå°ºå¯¸å’Œè¿åŠ¨é™åˆ¶
- **å®‰å…¨è¾¹è·**ï¼šè€ƒè™‘å®é™…æ“ä½œçš„å®‰å…¨è¦æ±‚
- **ä¼ æ„Ÿå™¨æ¨¡æ‹Ÿ**ï¼šLiDARç­‰ä¼ æ„Ÿå™¨çš„èŒƒå›´å»ºæ¨¡

### ğŸš€ æ‰©å±•åŠŸèƒ½å»ºè®®

#### çŸ­æœŸæ‰©å±•
- [ ] RRT/RRT*ç®—æ³•å¯¹æ¯”
- [ ] å¤šç›®æ ‡è·¯å¾„è§„åˆ’
- [ ] è·¯å¾„è·Ÿè¸ªæ§åˆ¶å™¨

#### ä¸­æœŸæ‰©å±•
- [ ] æœºå™¨å­¦ä¹ è·¯å¾„ä¼˜åŒ–
- [ ] å¤šAGVè°ƒåº¦ç³»ç»Ÿ
- [ ] å®æ—¶é€šä¿¡åè®®

#### é•¿æœŸæ‰©å±•
- [ ] 3Dè·¯å¾„è§„åˆ’
- [ ] äº‘ç«¯è·¯å¾„æœåŠ¡
- [ ] æ•°å­—å­ªç”Ÿé›†æˆ

### ğŸ“ é¢è¯•è¦ç‚¹

#### ç®—æ³•ç†è§£
1. **A*ç®—æ³•åŸç†**ï¼šå¯å‘å¼æœç´¢ã€æœ€ä¼˜æ€§ä¿è¯
2. **å¤æ‚åº¦åˆ†æ**ï¼šæ—¶é—´å¤æ‚åº¦O(b^d)ï¼Œç©ºé—´å¤æ‚åº¦åˆ†æ
3. **å‚æ•°è°ƒä¼˜**ï¼šå¯å‘å¼å‡½æ•°è®¾è®¡ã€æœç´¢ç­–ç•¥ä¼˜åŒ–

#### å·¥ç¨‹èƒ½åŠ›
1. **ä»£ç è´¨é‡**ï¼šæ¨¡å—åŒ–ã€å¯ç»´æŠ¤æ€§ã€æ–‡æ¡£å®Œæ•´æ€§
2. **æ€§èƒ½ä¼˜åŒ–**ï¼šç®—æ³•æ•ˆç‡ã€å†…å­˜ä½¿ç”¨ã€å®æ—¶æ€§è¦æ±‚
3. **æµ‹è¯•éªŒè¯**ï¼šè¾¹ç•Œæ¡ä»¶ã€å¼‚å¸¸å¤„ç†ã€é²æ£’æ€§æµ‹è¯•

#### å®é™…åº”ç”¨
1. **ç³»ç»Ÿé›†æˆ**ï¼šä¸ç¡¬ä»¶æ¥å£ã€é€šä¿¡åè®®ã€æ•°æ®æ ¼å¼
2. **éƒ¨ç½²è€ƒè™‘**ï¼šç¯å¢ƒé€‚é…ã€é…ç½®ç®¡ç†ã€ç›‘æ§å‘Šè­¦
3. **ç»´æŠ¤å‡çº§**ï¼šç‰ˆæœ¬ç®¡ç†ã€åŠŸèƒ½æ‰©å±•ã€æ€§èƒ½è°ƒä¼˜

### ğŸ“ è”ç³»ä¿¡æ¯

**é¡¹ç›®ä½œè€…**: Xiaohang Liu 
**é¡¹ç›®æ—¥æœŸ**: 2025å¹´5æœˆ

---

*æœ¬é¡¹ç›®ä¸“ä¸ºæŠ€æœ¯é¢è¯•è®¾è®¡ï¼Œå±•ç¤ºäº†åœ¨AGVè·¯å¾„è§„åˆ’é¢†åŸŸçš„æŠ€æœ¯èƒ½åŠ›å’Œå·¥ç¨‹å®è·µç»éªŒã€‚* 