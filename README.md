# AGV Path Planning Demo Project

### 项目概述

这是一个专为面试准备的AGV（自动导引车）路径规划演示项目。项目展示了基于A*算法的智能路径规划系统，包含静态和动态障碍物处理、路径优化、实时重规划等高级功能。

### 🚀 核心功能


#### 高级版本 (`advanced_agv_demo.py`)
- 🔥 **动态障碍物处理**：实时检测和避让移动障碍物
- 🔥 **路径平滑算法**：B样条和梯度下降路径优化
- 🔥 **实时重规划**：动态环境下的路径重新计算
- 🔥 **传感器建模**：LiDAR传感器范围模拟
- 🔥 **多AGV协调**：基础的多车辆协调机制
- 🔥 **性能优化**：启发式函数优化和搜索效率提升

### 🛠️ 技术栈

- **Python 3.8+**
- **NumPy**: 数值计算和矩阵操作
- **Matplotlib**: 可视化和动画
- **SciPy**: 路径平滑和插值算法
- **Heapq**: A*算法的优先队列实现
- **Dataclasses**: 现代Python数据结构

### 📦 安装和运行

#### 1. 环境准备
```bash
# 确保已安装Python 3.8+
python --version

# 安装依赖包
pip install numpy matplotlib scipy
```

#### 2. 运行基础演示
```bash
python agv_path_planning_demo.py
```

#### 3. 运行高级演示
```bash
python advanced_agv_demo.py
```

### 🎯 演示场景

#### 场景1：简单导航
- **起点**: (1.0, 1.0) - 仓库入口
- **终点**: (18.0, 13.0) - 仓库远端
- **特点**: 展示基本的A*路径规划能力

#### 场景2：狭窄通道
- **起点**: (1.0, 7.0) - 货架间通道
- **终点**: (18.0, 7.0) - 对面通道
- **特点**: 测试在受限空间中的导航能力

#### 场景3：复杂环境
- **起点**: (2.0, 13.0) - 复杂起始位置
- **终点**: (16.0, 2.0) - 复杂目标位置
- **特点**: 多障碍物环境下的路径优化

### 🔧 核心算法详解

#### A*算法实现
```python
def plan_path(self, start: Point, goal: Point) -> List[Point]:
    """
    A*算法核心实现
    - 使用欧几里得距离作为启发式函数
    - 支持8方向移动
    - 考虑AGV物理约束
    """
    # 优先队列管理待探索节点
    open_set = []
    heapq.heappush(open_set, (0, id(start), start))
    
    # 路径重构和成本计算
    came_from = {}
    g_score = {start: 0}
    f_score = {start: self.heuristic(start, goal)}
```

#### 动态障碍物处理
```python
def update_dynamic_obstacles(self, dt: float):
    """
    动态障碍物位置更新
    - 物理运动模拟
    - 边界碰撞处理
    - 实时地图更新
    """
    for obs in self.dynamic_obstacles:
        obs.update(dt)
        # 边界反弹逻辑
        if obs.x <= obs.radius or obs.x >= self.width - obs.radius:
            obs.vx *= -1
```

#### 路径平滑优化
```python
def smooth_path_gradient_descent(self, path, environment, agv_config):
    """
    基于梯度下降的路径平滑
    - 最小化路径曲率
    - 保持碰撞约束
    - 迭代优化过程
    """
    for i in range(1, len(smoothed) - 1):
        gradient = 2 * curr_point - prev_point - next_point
        new_point = curr_point - alpha * gradient
```

### 📊 性能指标

| 指标 | 基础版本 | 高级版本 |
|------|----------|----------|
| 路径规划时间 | < 0.1s | < 0.2s |
| 搜索节点数 | 500-2000 | 800-3000 |
| 路径平滑度 | 基础 | 优化 |
| 动态响应 | 无 | 1Hz重规划 |
| 内存使用 | 低 | 中等 |

### 🎨 可视化特性

- **实时环境渲染**：静态和动态障碍物的清晰显示
- **路径可视化**：规划路径的高亮显示
- **搜索过程展示**：A*算法搜索节点的可视化
- **AGV状态显示**：车辆位置、方向和传感器范围
- **性能指标面板**：实时显示关键性能数据

### 🔍 技术亮点

#### 1. 算法优化
- **启发式函数增强**：考虑动态障碍物的距离惩罚
- **搜索空间优化**：8方向移动与对角线成本调整
- **内存管理**：高效的数据结构使用

#### 2. 工程实践
- **模块化设计**：清晰的类结构和职责分离
- **配置管理**：灵活的AGV参数配置
- **错误处理**：完善的异常处理机制

#### 3. 实际应用考虑
- **物理约束建模**：真实的AGV尺寸和运动限制
- **安全边距**：考虑实际操作的安全要求
- **传感器模拟**：LiDAR等传感器的范围建模

### 🚀 扩展功能建议

#### 短期扩展
- [ ] RRT/RRT*算法对比
- [ ] 多目标路径规划
- [ ] 路径跟踪控制器

#### 中期扩展
- [ ] 机器学习路径优化
- [ ] 多AGV调度系统
- [ ] 实时通信协议

#### 长期扩展
- [ ] 3D路径规划
- [ ] 云端路径服务
- [ ] 数字孪生集成

### 📝 面试要点

#### 算法理解
1. **A*算法原理**：启发式搜索、最优性保证
2. **复杂度分析**：时间复杂度O(b^d)，空间复杂度分析
3. **参数调优**：启发式函数设计、搜索策略优化

#### 工程能力
1. **代码质量**：模块化、可维护性、文档完整性
2. **性能优化**：算法效率、内存使用、实时性要求
3. **测试验证**：边界条件、异常处理、鲁棒性测试

#### 实际应用
1. **系统集成**：与硬件接口、通信协议、数据格式
2. **部署考虑**：环境适配、配置管理、监控告警
3. **维护升级**：版本管理、功能扩展、性能调优

### 📞 联系信息

**项目作者**: Xiaohang Liu 
**项目日期**: 2025年5月

---

*本项目专为技术面试设计，展示了在AGV路径规划领域的技术能力和工程实践经验。* 